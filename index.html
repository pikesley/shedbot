<html>
  <head>
    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/league.css">
    <link rel="stylesheet" href="assets/css/shedbot.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background='assets/images/relay-spider.jpg'>
          <h1>
            My Shed Has An API
          </h1>
          <h2>
            Lessons from a ridiculous project
          </h2>
          <h3>
            Sam Pikesley
          </h3>
          <p>
            <a href='https://twitter.com/pikesley'>
              @pikesley
            </a>
          </p>
        </section>
        <section data-background='assets/images/garden.jpg'></section>
        <section data-background='assets/images/shed.jpg'></section>
        <section data-background='assets/images/panel.jpg'></section>
        <section data-background='assets/images/panel.jpg'>
          <h1>
            Lesson #0: Have a mate who wants to get shot of a solar panel
          </h1>
        </section>
        <section data-background='assets/images/regulator.jpg'></section>
        <section data-background='assets/images/power-point.jpg'></section>
        <section data-background='assets/images/radio.jpg'></section>
        <section data-background='assets/images/light.jpg'></section>
        <section data-background='assets/images/pi.jpg'></section>
        <section data-background='assets/images/relay.jpg'></section>
        <section data-background='assets/images/relay.jpg'>
          <h1>
            Lesson #1: Sometimes you need more grunt
          </h1>
        </section>
        <section data-background='assets/images/arduino.jpg'></section>
        <section data-background='assets/images/arduino.jpg'>
          <pre>
            <code data-trim data-noescape>
    int relays[] = { 4, 5, 6, 7 };
    int inputs[] = { 8, 9, 10, 11 };

    void setup() {
      for (int r = 0; r < count; r++) {
        pinMode(relays[r], OUTPUT);
        pinMode(inputs[r], INPUT);
      }
    }

    void loop() {
      for (int v = 0; v < count; v++) {
        digitalWrite(relays[v], digitalRead(inputs[v]));
      }
    }
            </code>
          </pre>
          <a href='https://github.com/pikesley/relay-puller'>
            https://github.com/pikesley/relay-puller
          </a>
        </section>
        <section data-background='assets/images/arduino.jpg'>
          <h1>
            Lesson #2: Arduino programming is easier than you think
          </h1>
        </section>
        <section data-background='assets/images/pi.jpg'></section>
        <section data-background='assets/images/pi.jpg'>
          <h1>
            Lesson #3: The Raspberry Pi pin layout is an unspeakable shambles
          </h1>
          <h2 class='fragment fade-left'>
            <a href='http://pinout.xyz'>http://pinout.xyz</a>
          </h2>
        </section>
        <section data-background='assets/images/house.jpg'>
          <h1>
            RESTful API
          </h1>
        </section>
        <section data-background='assets/images/house.jpg'>
          <pre>
            <code>
    /lights/:light
            </code>
          </pre>
        </section>
        <section data-background='assets/images/house.jpg'>
          <pre>
            <code>
    GET /lights/:light/on
    GET /lights/:light/off
            </code>
          </pre>
        </section>
        <section data-background='assets/images/house.jpg'>
          <h1>
            Lesson #4: Ask some experts
          </h1>
          <h2 class='fragment fade-left'>
            (or, waste people's time)
          </h2>
        </section>
        <section data-background='assets/images/house.jpg'>
          <pre>
            <code>
    PATCH /lights/:light

    {
      state: on
    }
            </code>
          </pre>
        </section>
        <section data-background='assets/images/house.jpg'>
          <pre>
            <code>
    $.ajax({
      url: '/lights/' + light,
      data: { state: state },
      type: 'PATCH',
      contentType: 'application/json'
    })
            </code>
          </pre>
        </section>
        <section data-background='assets/images/complete.jpg'>
          <img src='assets/images/screenshot.png'>
          <a href='https://github.com/pikesley/shedbot'>
            https://github.com/pikesley/shedbot
          </a>
        </section>
        <section data-background='assets/images/complete.jpg'>
          <h1>
            Lesson #5: Install some actual physical switches
          </h1>
        </section>
        <section data-background='assets/images/complete.jpg'>
          <h1>What else can I do with this?</h1>
          <ul>
            <li class='fragment fade-left'>
              Use the sunset / sunrise API
            </li>
            <li class='fragment fade-left'>
              Implement the SHEDuler (this is never going to happen)
            </li>
            <li class='fragment fade-left'>
              Find out how to charge my batteries
            </li>
          </ul>
        </section>
        <section data-background='assets/images/relay-spider.jpg'>
          <h1>Questions?</h1>
          <hr>
          <p>
            <a href='https://github.com/pikesley/shedbot'>
              https://github.com/pikesley/shedbot
            </a>
          </p>
          <p>
            <a href='https://github.com/pikesley/relay-puller'>
              https://github.com/pikesley/relay-puller
            </a>
          </p>
          <p>
            <a href='https://github.com/jwhitehorn/pi_piper'>
              https://github.com/jwhitehorn/pi_piper
            </a>
          </p>
          <p>
            <a href='http://sam.pikesley.org/'>
              http://sam.pikesley.org/
            </a>
          </p>
          <p>
            <a href='https://twitter.com/pikesley'>
              @pikesley
            </a>
          </p>
        </section>
      </div>
    </div>
  <script src="reveal.js/js/reveal.js"></script>
  <script>
    Reveal.initialize();
    </script>
  </body>
</html>
